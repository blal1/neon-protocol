[gd_scene load_steps=6 format=3 uid="uid://city_block_001"]

[ext_resource type="Shader" path="res://shaders/neon_glow.gdshader" id="1_neon"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_neon_cyan"]
shader = ExtResource("1_neon")
shader_parameter/neon_color = Vector3(0, 1, 1)
shader_parameter/brightness = 3.0
shader_parameter/flicker_speed = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_neon_magenta"]
shader = ExtResource("1_neon")
shader_parameter/neon_color = Vector3(1, 0, 0.4)
shader_parameter/brightness = 3.0
shader_parameter/flicker_speed = 5.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_neon_green"]
shader = ExtResource("1_neon")
shader_parameter/neon_color = Vector3(0.2, 1, 0.4)
shader_parameter/brightness = 2.5
shader_parameter/flicker_speed = 8.0

[sub_resource type="StandardMaterial3D" id="Material_concrete"]
albedo_color = Color(0.2, 0.2, 0.22, 1)
roughness = 0.9

[sub_resource type="StandardMaterial3D" id="Material_metal"]
albedo_color = Color(0.3, 0.32, 0.35, 1)
metallic = 0.7
roughness = 0.4

[sub_resource type="StandardMaterial3D" id="Material_glass"]
albedo_color = Color(0.1, 0.15, 0.2, 0.5)
metallic = 0.3
roughness = 0.1
transparency = 1

[sub_resource type="BoxMesh" id="BoxMesh_building"]
size = Vector3(8, 20, 8)

[sub_resource type="BoxMesh" id="BoxMesh_building_small"]
size = Vector3(6, 12, 6)

[sub_resource type="BoxMesh" id="BoxMesh_floor"]
size = Vector3(30, 0.2, 30)

[sub_resource type="BoxMesh" id="BoxMesh_sidewalk"]
size = Vector3(4, 0.3, 30)

[sub_resource type="BoxMesh" id="BoxMesh_neon_bar"]
size = Vector3(0.1, 0.1, 6)

[sub_resource type="BoxMesh" id="BoxMesh_neon_sign"]
size = Vector3(0.2, 2, 4)

[sub_resource type="CylinderMesh" id="CylinderMesh_lamp"]
top_radius = 0.3
bottom_radius = 0.3
height = 5.0

[sub_resource type="SphereMesh" id="SphereMesh_lamp_light"]
radius = 0.5

[node name="CityBlock" type="Node3D" groups=["world_chunk"]]

[node name="Ground" type="StaticBody3D" parent="." groups=["ground", "concrete"]]
collision_layer = 1

[node name="FloorMesh" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("BoxMesh_floor")
surface_material_override/0 = SubResource("Material_concrete")

[node name="FloorCollision" type="CollisionShape3D" parent="Ground"]
shape = SubResource("BoxShape3D_floor")

[sub_resource type="BoxShape3D" id="BoxShape3D_floor"]
size = Vector3(30, 0.2, 30)

[node name="Buildings" type="Node3D" parent="."]

[node name="Building1" type="StaticBody3D" parent="Buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 10, -10)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Buildings/Building1"]
mesh = SubResource("BoxMesh_building")
surface_material_override/0 = SubResource("Material_concrete")

[node name="Collision" type="CollisionShape3D" parent="Buildings/Building1"]
shape = SubResource("BoxShape3D_building1")

[sub_resource type="BoxShape3D" id="BoxShape3D_building1"]
size = Vector3(8, 20, 8)

[node name="Building2" type="StaticBody3D" parent="Buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 6, -10)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Buildings/Building2"]
mesh = SubResource("BoxMesh_building_small")
surface_material_override/0 = SubResource("Material_concrete")

[node name="Collision" type="CollisionShape3D" parent="Buildings/Building2"]
shape = SubResource("BoxShape3D_building2")

[sub_resource type="BoxShape3D" id="BoxShape3D_building2"]
size = Vector3(6, 12, 6)

[node name="Building3" type="StaticBody3D" parent="Buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 10, 10)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Buildings/Building3"]
mesh = SubResource("BoxMesh_building")
surface_material_override/0 = SubResource("Material_concrete")

[node name="Building4" type="StaticBody3D" parent="Buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 8, 10)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Buildings/Building4"]
mesh = SubResource("BoxMesh_building_small")
surface_material_override/0 = SubResource("Material_metal")

[node name="Neons" type="Node3D" parent="."]

[node name="NeonBar1" type="MeshInstance3D" parent="Neons"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 8, -6.1)
mesh = SubResource("BoxMesh_neon_bar")
surface_material_override/0 = SubResource("ShaderMaterial_neon_cyan")

[node name="NeonBar2" type="MeshInstance3D" parent="Neons"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -6.1, 6, -8)
mesh = SubResource("BoxMesh_neon_bar")
surface_material_override/0 = SubResource("ShaderMaterial_neon_magenta")

[node name="NeonSign1" type="MeshInstance3D" parent="Neons"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.1, 5, -8)
mesh = SubResource("BoxMesh_neon_sign")
surface_material_override/0 = SubResource("ShaderMaterial_neon_green")

[node name="NeonBar3" type="MeshInstance3D" parent="Neons"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 4, 6.1)
mesh = SubResource("BoxMesh_neon_bar")
surface_material_override/0 = SubResource("ShaderMaterial_neon_cyan")

[node name="StreetLamps" type="Node3D" parent="."]

[node name="Lamp1" type="Node3D" parent="StreetLamps"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)

[node name="Pole" type="MeshInstance3D" parent="StreetLamps/Lamp1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
mesh = SubResource("CylinderMesh_lamp")
surface_material_override/0 = SubResource("Material_metal")

[node name="Light" type="MeshInstance3D" parent="StreetLamps/Lamp1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.2, 0)
mesh = SubResource("SphereMesh_lamp_light")
surface_material_override/0 = SubResource("ShaderMaterial_neon_cyan")

[node name="OmniLight3D" type="OmniLight3D" parent="StreetLamps/Lamp1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
light_color = Color(0.5, 0.8, 1, 1)
light_energy = 2.0
omni_range = 10.0
omni_attenuation = 1.5

[node name="Lamp2" type="Node3D" parent="StreetLamps"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)

[node name="Pole" type="MeshInstance3D" parent="StreetLamps/Lamp2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
mesh = SubResource("CylinderMesh_lamp")
surface_material_override/0 = SubResource("Material_metal")

[node name="Light" type="MeshInstance3D" parent="StreetLamps/Lamp2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.2, 0)
mesh = SubResource("SphereMesh_lamp_light")
surface_material_override/0 = SubResource("ShaderMaterial_neon_magenta")

[node name="OmniLight3D" type="OmniLight3D" parent="StreetLamps/Lamp2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
light_color = Color(1, 0.3, 0.5, 1)
light_energy = 2.0
omni_range = 10.0

[node name="Props" type="Node3D" parent="."]

[node name="Crate1" type="StaticBody3D" parent="Props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.5, 3)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Props/Crate1"]
mesh = SubResource("BoxMesh_crate")
surface_material_override/0 = SubResource("Material_metal")

[sub_resource type="BoxMesh" id="BoxMesh_crate"]
size = Vector3(1, 1, 1)

[node name="Collision" type="CollisionShape3D" parent="Props/Crate1"]
shape = SubResource("BoxShape3D_crate")

[sub_resource type="BoxShape3D" id="BoxShape3D_crate"]
size = Vector3(1, 1, 1)

[node name="Crate2" type="StaticBody3D" parent="Props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0.5, 2)
collision_layer = 1

[node name="Mesh" type="MeshInstance3D" parent="Props/Crate2"]
mesh = SubResource("BoxMesh_crate")
surface_material_override/0 = SubResource("Material_metal")

[node name="Collision" type="CollisionShape3D" parent="Props/Crate2"]
shape = SubResource("BoxShape3D_crate")
